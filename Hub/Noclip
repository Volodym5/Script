local Noclip = {}

local noclipEnabled = false

-- Function to toggle noclip mode
local function toggleNoclip()
    noclipEnabled = not noclipEnabled
    local player = game.Players.LocalPlayer
    local character = player.Character
    if character then
        local humanoid = character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            if noclipEnabled then
                -- Enable noclip: set character's collision mode to be ignored
                humanoid:ChangeState(Enum.HumanoidStateType.Physics)
            else
                -- Disable noclip: reset character's collision mode to normal
                humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
            end
        end
    end
end

-- Public function to enable or disable noclip mode
function Noclip.Toggle()
    toggleNoclip()
end

-- Function to check if noclip mode is enabled
function Noclip.IsEnabled()
    return noclipEnabled
end

return Noclip
